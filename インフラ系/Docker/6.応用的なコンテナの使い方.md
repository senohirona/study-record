# コンテナとホスト間でファイルをコピーする
ホストからコンテナの中にファイルをコピーしてみる
コピーには`docker cp`コマンドを利用する
cpコマンドはホスト→コンテナ、コンテナ→ホスト両方行える

```
docker cp コピー元パス コピー先のコンテナ名:コンテナ側パス
```

今回はApacheのコンテナにindex.htmlファイルをコピーして体験してみる

### 今回の流れ
1. Apacheコンテナの作成
2. コピー
3. 確認

### 事前準備
index.htmlファイルを作成する

## Apacheコンテナを作成する
以前イメージを削除したので、新しく入れ直している
```
$ docker run --name apa000ex19 -d -p 8089:80 httpd
Unable to find image 'httpd:latest' locally
latest: Pulling from library/httpd
7a6db449b51b: Pull complete
b4effd428409: Pull complete
6b29c2b62286: Pull complete
c2123effa3fc: Pull complete
152876b0d24a: Pull complete
Digest: sha256:f2d43eb0cd597cc6201e5078802f7df712750be5cf7f014bdff5b9dfb777f93d
Status: Downloaded newer image for httpd:latest
388dd5710b6414ccc58d491a190a2869cb56a0ff492f73cf91f8117259bd99d7
```

## ブラウザでApacheにアクセスして初期画面を確認する
まだhtmlを変更していないので初期画面のまま
![](./%E3%82%B9%E3%82%AF%E3%82%B7%E3%83%A7%E7%AD%89/apache%E3%81%A8%E3%83%9D%E3%83%BC%E3%83%88.png)

## cpコマンドを実行して、ホストからコンテナへファイルをコピーする
cpコマンドで、ホストからコンテナにindex.htmlファイルをコピーする
```
$ docker cp index.html apa000ex19:/usr/local/apache2/htdocs

```

## index.htmlに変わったことを確認する
変わっている
![](./%E3%82%B9%E3%82%AF%E3%82%B7%E3%83%A7%E7%AD%89/%E3%83%9B%E3%82%B9%E3%83%88%E3%81%8B%E3%82%89%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A%E3%81%B8%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%82%92%E3%82%B3%E3%83%94%E3%83%BC%E3%81%99%E3%82%8B.png)

## コンテナからホストにファイルのコピーをしてみる
先ほどとは逆をする。

### 今回の流れ
1. Apacheコンテナの作成
2. コピー(コンテナ→ホスト)
3. 確認

## Apacheコンテナの作成
先ほど作成したコンテナをそのまま使う。

## cpコマンドを実行して、コンテナからホストへファイルをコピー
```
$ docker cp apa000ex19:/usr/local/apache2/htdocs/index.html /Users/<ユーザー名>/Documents/
```

## ホスト側にindex.htmlファイルがコピーされたことを確認する

## 後始末を行う
```
$ docker stop apa000ex19
apa000ex19

$ docker rm apa000ex19
apa000ex19
```
